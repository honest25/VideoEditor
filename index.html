<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CineStudio | Pro Browser Editor</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        :root { --accent: #ffae00; --bg: #0a0a0a; --panel: #161616; }
        body { background: var(--bg); color: #e0e0e0; font-family: 'Inter', sans-serif; height: 100vh; overflow: hidden; }
        
        /* Premiere-Style Layout */
        .app-grid { display: grid; grid-template-columns: 300px 1fr 300px; grid-template-rows: 1fr 280px; height: 100vh; }
        .panel { background: var(--panel); border: 1px solid #222; overflow: hidden; display: flex; flex-direction: column; }
        
        /* Canva-Style Canvas */
        #preview-wrap { position: relative; background: #000; display: flex; align-items: center; justify-content: center; overflow: hidden; }
        canvas { max-height: 90%; box-shadow: 0 20px 50px rgba(0,0,0,0.8); background: #000; }

        /* DaVinci-Style Timeline */
        .timeline-container { grid-column: 1 / span 3; position: relative; background: #0f0f0f; border-top: 2px solid #222; }
        .time-ruler { height: 30px; background: #1a1a1a; border-bottom: 1px solid #333; position: relative; }
        .playhead { width: 2px; height: 100%; background: var(--accent); position: absolute; z-index: 50; top: 0; pointer-events: none; }
        .track { height: 60px; border-bottom: 1px solid #222; display: flex; align-items: center; padding: 0 10px; position: relative; }
        .clip-block { background: linear-gradient(to right, #3b82f6, #2563eb); border-radius: 4px; height: 45px; position: absolute; cursor: move; border: 1px solid rgba(255,255,255,0.2); display: flex; align-items: center; padding: 0 8px; font-size: 10px; font-weight: bold; color: white; }
    </style>
</head>
<body>

<div class="app-grid">
    <aside class="panel">
        <div class="p-3 border-b border-zinc-800 flex justify-between items-center">
            <span class="text-xs font-bold uppercase tracking-widest text-zinc-500">Project Assets</span>
            <label class="cursor-pointer bg-zinc-800 hover:bg-zinc-700 p-1 px-2 rounded text-[10px]">
                IMPORT <input type="file" id="file-import" hidden multiple accept="video/*,audio/*,image/*">
            </label>
        </div>
        <div id="asset-list" class="p-2 space-y-2 overflow-y-auto">
            </div>
    </aside>

    <main id="preview-wrap">
        <div class="absolute top-4 right-4 z-10 space-x-2">
            <button onclick="applyGrade('sepia(1) contrast(1.2)')" class="bg-black/50 p-2 rounded hover:text-amber-500"><i class="fa-solid fa-wand-magic-sparkles"></i></button>
            <button onclick="addTextOverlay()" class="bg-black/50 p-2 rounded hover:text-amber-500"><i class="fa-solid fa-t"></i></button>
        </div>
        <canvas id="main-canvas"></canvas>
        <div class="absolute bottom-4 flex space-x-6 bg-black/60 px-6 py-2 rounded-full backdrop-blur-md border border-white/10">
            <button class="hover:text-amber-400"><i class="fa-solid fa-backward-step"></i></button>
            <button id="play-btn" class="text-xl text-amber-500"><i class="fa-solid fa-play"></i></button>
            <button class="hover:text-amber-400"><i class="fa-solid fa-forward-step"></i></button>
        </div>
    </main>

    <aside class="panel">
        <div class="p-3 border-b border-zinc-800 text-xs font-bold uppercase text-zinc-500">Inspector</div>
        <div class="p-4 space-y-6">
            <div>
                <label class="text-[10px] text-zinc-400 uppercase">Exposure</label>
                <input type="range" class="w-full accent-amber-500" min="0" max="200" value="100">
            </div>
            <div>
                <label class="text-[10px] text-zinc-400 uppercase">S-Curve Contrast</label>
                <input type="range" class="w-full accent-amber-500" min="0" max="200" value="100">
            </div>
            <button class="w-full py-3 bg-amber-600 text-black font-black uppercase text-xs rounded hover:bg-amber-500 transition-all mt-10">Export 4K (No Login)</button>
        </div>
    </aside>

    <footer class="timeline-container">
        <div class="time-ruler">
            <div class="playhead" id="playhead" style="left: 50px;"></div>
        </div>
        <div class="track" id="video-track-1">
            <div class="clip-block" style="width: 200px; left: 100px;">SCENE_01.MP4</div>
        </div>
        <div class="track" id="audio-track-1">
            <div class="clip-block !bg-green-600/30 !border-green-500" style="width: 400px; left: 50px;">BGM_CINEMATIC.WAV</div>
        </div>
    </footer>
</div>

<script>
    const canvas = document.getElementById('main-canvas');
    const ctx = canvas.getContext('2d');
    const fileImport = document.getElementById('file-import');
    const assetList = document.getElementById('asset-list');

    // Initialize Canvas Size (9:16 for Mobile/Shorts)
    function resizeCanvas() {
        canvas.width = 1080;
        canvas.height = 1920;
        canvas.style.height = "90%";
        canvas.style.aspectRatio = "9/16";
        drawPlaceholder();
    }

    function drawPlaceholder() {
        ctx.fillStyle = '#111';
        ctx.fillRect(0, 0, canvas.width, canvas.height);
        ctx.fillStyle = '#333';
        ctx.font = "bold 40px Inter";
        ctx.textAlign = "center";
        ctx.fillText("READY FOR PRODUCTION", 540, 960);
    }

    // Handle Professional Import
    fileImport.addEventListener('change', (e) => {
        const files = e.target.files;
        for(let file of files) {
            const url = URL.createObjectURL(file);
            const item = document.createElement('div');
            item.className = "bg-zinc-900 p-2 rounded border border-zinc-800 text-[10px] flex gap-3 items-center hover:border-amber-500 cursor-pointer transition-all";
            item.innerHTML = `<div class="w-12 h-8 bg-black rounded flex items-center justify-center"><i class="fa-solid fa-video"></i></div> <span>${file.name}</span>`;
            assetList.appendChild(item);
            
            // On click, load into preview
            item.onclick = () => loadToPreview(url);
        }
    });

    function loadToPreview(url) {
        const video = document.createElement('video');
        video.src = url;
        video.muted = true;
        video.play();
        
        function update() {
            ctx.drawImage(video, 0, 0, canvas.width, canvas.height);
            requestAnimationFrame(update);
        }
        video.onplay = update;
    }

    function applyGrade(filterStr) {
        canvas.style.filter = filterStr;
    }

    window.onload = resizeCanvas;
</script>
</body>
</html>
